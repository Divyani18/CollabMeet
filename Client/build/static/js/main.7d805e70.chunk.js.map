{"version":3,"sources":["Components/NavBar.js","Components/WhiteBoard.js","Components/Chatbox.js","Components/VideoCanvas.js","Components/App.js","index.js"],"names":["NavBar","sketchWidth","theme","useTheme","isMatch","useMediaQuery","breakpoints","down","_React$useState","React","useState","_React$useState2","Object","slicedToArray","anchorEl","setAnchorEl","handleClose","react_default","a","createElement","Box","display","flexDirection","bgcolor","color","yellow","p","alignItems","Typography","flexGrow","justifyContent","IconButton","aria-label","aria-controls","aria-haspopup","onClick","event","currentTarget","Menu_default","Menu","id","keepMounted","open","Boolean","onClose","MenuItem","Button","client","W3CWebSocket","process","URL","msg","isReceived","verified","WhiteBoard","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","data","callId","close","console","log","_this2","onmessage","message","dataFromServer","JSON","parse","sentCode","type","concat","toConsumableArray","x","y","Container","callEnded","endCall","styles","ButtonGroup","joinedCall","build_default","setup","p5","canvasParentRef","document","getElementById","offsetWidth","createCanvas","parent","background","draw","noStroke","fill","mouseIsPressed","ellipse","mouseX","mouseY","send","stringify","mouseDragged","map","Component","Chatbox","text","messages","user","count","getUserName","bind","assertThisInitialized","enteredText","onButtonClick","onopen","setState","target","value","_this3","style","height","onChange","placeholder","orange","py","px","width","overflow","key","Card","padding","margin","Avatar","backgroundColor","red","variant","gutterBottom","flexgrow","alignitem","my","TextField","label","signaling","constraints","audio","video","iceConfiguration","iceServers","push","urls","pc","RTCPeerConnection","ontrack","_ref","asyncToGenerator","regenerator_default","mark","_callee","remoteViews","wrap","_context","prev","next","getElementsByClassName","srcObject","abrupt","streams","stop","_x","apply","arguments","VideoCanvas","callInfo","participantId","isClicked","start","onicecandidate","_ref2","candidate","_ref3","_callee2","stream","selfView","_context2","offerCreator","onnegotiationneeded","sent","desc","setRemoteDescription","navigator","mediaDevices","getUserMedia","getTracks","forEach","track","addTrack","t0","createAnswer","t1","setLocalDescription","localDescription","addIceCandidate","t2","error","_x2","err","createOffer","_context3","_context4","onremovetrack","onremovestream","oniceconnectionstatechange","onsignalingstatechange","onicegatheringstatechange","removeAttribute","closeVideoCall","Grid","container","item","flexWrap","autoPlay","className","muted","App","generateCode","joinCall","isCaller","Math","floor","random","toString","substring","Components_NavBar","xs","md","marginBottom","Components_WhiteBoard","Components_Chatbox","Components_VideoCanvas","ReactDOM","render","Components_App"],"mappings":"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","file":"static/js/main.7d805e70.chunk.js","sourcesContent":["import React from 'react';\nimport { Box, Typography, Button, IconButton, useMediaQuery, useTheme, Menu, MenuItem} from \"@material-ui/core\";\nimport yellow from '@material-ui/core/colors/yellow';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nfunction NavBar() {\n\n    const theme = useTheme();\n\n    const isMatch = useMediaQuery(theme.breakpoints.down('sm'))\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n    \n    return (\n      \n        <Box display=\"flex\" flexDirection=\"row\" bgcolor=\"rgba(0,0,0,0.8)\" color={yellow[900]} p={2}>\n\n            <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n              <Typography>CollabMeet</Typography>\n            </Box>\n\n            {isMatch? \n            <Box flexGrow={2} display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n              <div>\n                \n                <IconButton color=\"inherit\" aria-label=\"menu\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n                  <MenuIcon/>\n                </IconButton>\n\n                <Menu\n                  id=\"simple-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}>\n                  \n                  <MenuItem onClick={handleClose}>About</MenuItem>\n                  <MenuItem onClick={handleClose}>Get Started</MenuItem>\n\n                </Menu>\n              </div>\n\n            </Box> :\n\n            <Box flexGrow={2} display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n              <Button color=\"inherit\">About</Button>\n              <Button color=\"inherit\">Get Started</Button>\n            </Box>}\n        \n        </Box>)\n\n}\n\nexport default NavBar; ","import React from \"react\";\nimport Sketch from \"react-p5\";\nimport { Box, Button, Container, ButtonGroup} from \"@material-ui/core\";\n\nimport {w3cwebsocket as W3CWebSocket} from \"websocket\"\n\nconst client = new W3CWebSocket(process.env.URL || 'ws://127.0.0.1:4000');\n\nvar msg = [];\nvar isReceived = 0;\nvar verified = 0;\nvar sketchWidth;\nvar sketchHeight;\n\n\nclass WhiteBoard extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: \"\",\n            callId: \"\",\n        }\n    }\n\n    joinedCall(id) {\n        this.state.callId = id;\n    }\n\n    endCall() {\n        client.close(1000, () => {\n          console.log(\"Call has been ended.\"); \n        })\n      }\n\n    render() {\n        \n        const setup = (p5, canvasParentRef) => {\n            sketchWidth = document.getElementById(\"board\").offsetWidth;\n            sketchHeight=400;\n            p5.createCanvas(sketchWidth, sketchHeight).parent(canvasParentRef);\n            p5.background(255,255,255);\n        }\n\n        const mouseDragged = (p5) => {\n\n            if(verified) {\n                console.log(\"Sending...\"+ p5.mouseX + \", \" + p5.mouseY);\n\n                var data = {\n                    x: p5.mouseX,\n                    y: p5.mouseY,\n                    type: \"coordinates\",\n                \n                }\n\n                client.send(JSON.stringify(data));\n            }\n            \n        }\n\n        client.onmessage = (message) => {\n            const dataFromServer = JSON.parse(message.data);\n            console.log(\"Got reply\", dataFromServer);\n\n            if(dataFromServer.sentCode === this.state.callId)\n            {\n                verified = 1;\n            }\n            else if (dataFromServer.type === \"coordinates\" && verified) {\n                isReceived = 1;\n                msg = [...msg,{\n                    x: dataFromServer.x,\n                    y: dataFromServer.y\n                }]\n\n            }\n            else\n            {\n                isReceived = 0;\n            }\n        }\n\n        const draw = (p5) => {\n\n            if(verified) {\n                p5.noStroke();\n                p5.fill(0,0,255);\n                \n                if(p5.mouseIsPressed)\n                {\n                    p5.ellipse(p5.mouseX,p5.mouseY,5,5);\n                    mouseDragged(p5);\n                    \n                }    \n\n                if(isReceived) {\n\n                    msg.map((message) => {\n                        return(\n                            p5.ellipse(message.x,message.y,5,5));            \n                    })\n                    \n                }\n            }\n                \n        }\n\n        return (\n\n            <Container>\n                {this.props.callEnded ? this.endCall() : console.log(\"On call\")}\n\n                <Box display=\"flex\" flexDirection=\"row\" bgcolor=\"rgb(0,0,0)\" color=\"green\">\n                    <Box flexGrow={2}>\n                        <p>WhiteBoard</p>\n                    </Box>\n\n                    <Box display=\"flex\" flexGrow={0.1} styles={{justifyContent: \"flex-end\"}}>\n                        <ButtonGroup color=\"secondary\" aria-label=\"outlined secondary button group\">\n                            <Button color=\"secondary\" onClick={this.joinedCall(this.props.callId)}>Pen</Button>\n                        </ButtonGroup>\n                    </Box>\n                </Box>\n            \n                <Box id=\"board\" >\n                    <Sketch setup={setup} draw={draw} />\n                </Box>\n            </Container>\n\n        );\n    }\n}\n\nexport default WhiteBoard;","import React from \"react\";\nimport { Box, Container, Card, Avatar, Typography, ButtonGroup, Button} from \"@material-ui/core\";\nimport orange from '@material-ui/core/colors/orange';\nimport red from \"@material-ui/core/colors/red\";\nimport TextField from '@material-ui/core/TextField';\nimport {w3cwebsocket as W3CWebSocket} from \"websocket\"\n\nconst client = new W3CWebSocket(process.env.URL || 'ws://127.0.0.1:4000');\n\nvar verified = 0;\n\nclass Chatbox extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: \"\",\n            messages: [],\n            user : \"\",\n            count : \"\",\n            callId : \"\"\n        }\n\n        this.getUserName = this.getUserName.bind(this);\n        this.enteredText = this.enteredText.bind(this);\n        this.joinedCall = this.joinedCall.bind(this);\n        this.onButtonClick = this.onButtonClick.bind(this);\n    }\n\n    componentDidMount() {\n        client.onopen = () => {\n          console.log(\"Client connected to server...\");\n        }\n    \n        client.onmessage = (message) => {\n          const dataFromServer = JSON.parse(message.data);\n\n          if(dataFromServer.sentCode === this.state.callId)\n          {\n            console.log(dataFromServer.sentCode, \"verified\", verified);\n            verified = 1;\n          }\n          if (dataFromServer.type === \"message\" && verified) {\n            this.setState((state) => {\n              console.log(\"Got reply\", dataFromServer);\n              return (\n                {\n                  messages: [...state.messages,\n                  {\n                    msg: dataFromServer.msg,\n                    user: dataFromServer.user,\n                    count: dataFromServer.count\n                  }]\n                }\n              )\n            }\n            );\n          }\n        }\n      }\n    \n    enteredText(event) {\n        this.setState(() => {\n            return {\n                text : event.target.value}\n        })\n    }\n    \n    onButtonClick() {\n\n      if(verified) {\n\n        client.send(JSON.stringify({\n          type: \"message\",\n          msg: this.state.text,\n          user: this.state.user,\n          count: this.state.count + 1\n        }))\n\n      }\n\n\n    }\n\n    getUserName(event) {\n        this.setState(() => {\n            return {\n                user : event.target.value}\n        })\n\n\n    }\n\n    joinedCall(id) {\n      this.state.callId = id;\n    }\n\n    endCall() {\n      client.close(1000, () => {\n        console.log(\"Call has been ended.\"); \n      })\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.props.callEnded ? this.endCall() : console.log(\"On call\")}\n\n                <Box display=\"flex\" flexDirection=\"row\">\n                  <input style={{height: \"37px\", flexGrow: 1}} onChange={this.getUserName} placeholder=\"Enter username before chat...\" />\n                  <ButtonGroup style={{flexGrow: 0.1}} color=\"secondary\" aria-label=\"outlined secondary button group\">\n                      <Button onClick={this.joinedCall(this.props.callId)}>Submit</Button>\n                  </ButtonGroup>\n\n                </Box>\n                \n                <Box display=\"flex\" flexDirection=\"column\" bgcolor={orange[50]}>\n                    <Box flexGrow={1} py={0.2} px={1} bgcolor=\"rgb(0,0,0)\" color=\"green\"><h4>ChatBox</h4></Box>\n                    <div style={{ width: \"100%\", height: \"250px\", display: \"flex\", flexDirection: \"column\", justifyContent: \"flex-start\", overflow: \"auto\"}}>\n                        \n                        {this.state.messages.map(message => \n                            <Box key={message.msg} style={{display: \"flex\", flexDirection: \"row\", justifyContent: this.state.user === message.user? \"flex-end\" : \"flex-start\"}}>\n\n                                <Card style={{padding: \"10px\", margin: \"5px\"}}>\n                                  <Box display=\"flex\" flexDirection=\"row\"><Avatar style={{backgroundColor : red[700]}}>{message.user[0]}</Avatar><Box px={0.5} py={1}><strong> {message.user} : </strong></Box></Box>\n                                  <div><Typography variant=\"body2\" gutterBottom>{message.msg}</Typography></div>\n                                </Card>\n                                \n                            </Box>)\n                        \n                        }\n                        \n                    </div>\n\n                    <Box flexgrow={2} alignitem=\"flex-end\" display=\"flex\" flexDirection=\"row\" my={2}>\n                        <TextField onChange={this.enteredText} id=\"outlined-basic\" label=\"Type a message...\" variant=\"outlined\" style={{width: \"75%\"}}/>\n                        <button onClick={this.onButtonClick} style={{width: \"25%\"}}>Send</button>\n                    </Box>\n                    \n                </Box>\n\n            </Container>)\n    }\n   \n}\n\nexport default Chatbox;","import React from \"react\";\nimport { Box, Button, ButtonGroup, Grid} from \"@material-ui/core\";\n\nimport {w3cwebsocket as W3CWebSocket} from \"websocket\"\n\nconst signaling = new W3CWebSocket(process.env.URL || 'ws://127.0.0.1:4000');\n\nconst constraints = {audio: true, video: true};\n\nconst iceConfiguration = { }\niceConfiguration.iceServers = [];\n\n//stun server\niceConfiguration.iceServers.push({\n    urls:  \"stun:stun.l.google.com:19302\"\n })    \n   \nconst pc = new RTCPeerConnection(iceConfiguration);\n\n\n// Once remote track media arrives, show it in remote video element.\npc.ontrack = async (event) => {\n  \n  console.log(\"Called\")\n  var remoteViews = document.getElementsByClassName(\"remoteVideo\");\n\n  console.log(\"remoteViewSet\");\n\n  // Don't set srcObject again if it is already set.\n  if(remoteViews[0].srcObject) return;\n\n  remoteViews[0].srcObject = event.streams[0];\n  console.log(\"sourceObjectSet\", event.streams[0]);\n  \n};\n\n\nclass VideoCanvas extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            callInfo: \"\",\n            callId: \"\",\n            participantId: \"\",\n            isClicked: 0\n        }\n\n        this.joinedCall = this.joinedCall.bind(this);\n        this.start = this.start.bind(this);\n\n    }\n\n    componentDidMount() {\n\n      // Send any ice candidatCheck these out:es to the other peer.\n      pc.onicecandidate = ({candidate}) => {\n        console.log(JSON.stringify({candidate}));\n        console.log(\"i'm a candidate\");\n        signaling.send(JSON.stringify({candidate}));\n        \n      }\n\n        signaling.onmessage = async (message) => {\n          try {\n\n            console.log(\"hey1\");\n            var dataFromServer = JSON.parse(message.data);\n            console.log(\"Received description:\", dataFromServer);\n\n            if(dataFromServer.sentCode && this.state.callInfo === \"C\")\n            {\n              console.log(\"participantId set\")\n               this.setState(() => {\n                 return {\n                   participantId: dataFromServer.sentCode\n                 }\n               })\n\n               console.log(\"caller's id\", this.state.callId);\n               console.log(\"participant's id\", this.state.participantId);\n\n               if(this.state.participantId === this.state.callId)\n               {\n                  console.log(\"Verification done!\")\n                  pc.onnegotiationneeded = await this.offerCreator();\n               }\n               \n            }              \n            else if (!dataFromServer.candidate) {\n              //If you get an offer, you need to reply with an answer.\n        \n              if (dataFromServer.desc.type === 'offer' && this.state.callInfo !== \"C\") {\n                this.setState(() => {\n                  return {\n                    callInfo : \"R\"\n                  }\n                  \n                })\n\n                console.log(\"hey1.1\");\n                console.log(\"Remote desc\",dataFromServer.desc);\n                await pc.setRemoteDescription(dataFromServer.desc);\n                \n                const stream = await navigator.mediaDevices.getUserMedia(constraints);\n                var selfView = document.getElementById(\"localVideo\");\n\n                stream.getTracks().forEach((track) =>\n                  pc.addTrack(track, stream));\n        \n                selfView.srcObject = stream;\n\n                await pc.setLocalDescription(await pc.createAnswer());\n                signaling.send(JSON.stringify({desc: pc.localDescription}));\n\n                //}\n        \n              } else if (dataFromServer.desc.type === 'answer' && this.state.callInfo === \"C\") {\n                console.log(\"hey1.2\");\n\n                await pc.setRemoteDescription(dataFromServer.desc);\n                console.log(\"Remote desc after recieving the answer\",dataFromServer.desc);\n        \n              } else {\n                console.log('Unsupported SDP type.');\n              }\n\n            }\n            else if (dataFromServer.candidate) {\n               await pc.addIceCandidate(dataFromServer.candidate);\n               console.log(\"hey2\");\n            }\n\n          } catch (err) {\n            console.error(\"ERROR:\",err);\n            console.log(\"hey3\");\n          }\n        };\n      \n    };\n\n    joinedCall(id) {\n      \n      try{\n        console.log(\"From joinedCall\",id);\n        this.state.callId = id;\n        /*this.setState(() => {\n          return {\n            callId : id\n          }\n        })*/\n\n        console.log(\"From joinedCall\",this.state.callId);\n\n        signaling.send(JSON.stringify({sentCode: this.state.callId}));\n        console.log(JSON.stringify({sentCode: this.state.callId}));\n  \n      }catch (err) {\n        console.error(\"ERROR From joinedCall:\",err);\n\n      }\n      \n\n    }\n\n    async offerCreator() {\n      try {   \n\n          await pc.setLocalDescription(await pc.createOffer());\n\n          // Send the offer to the other peer.\n          signaling.send(JSON.stringify({desc: pc.localDescription}));\n          console.log(JSON.stringify({desc: pc.localDescription}));\n    \n      \n      } catch (err) {\n          console.error(err);\n      }\n  \n    }\n\n    // Call start() to initiate.\n    async start(id) {\n      try {\n        // Get local stream, show it in self-view, and add it to be sent.\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\n        \n        var selfView = document.getElementById(\"localVideo\");\n        \n        stream.getTracks().forEach((track) =>\n          pc.addTrack(track, stream));\n        \n        selfView.srcObject = stream;\n        console.log(\"Caller Stream\", stream);\n\n        this.setState(() => {\n          return {\n            callInfo : \"C\",\n            callId : id\n          }\n          \n        })\n        \n        console.log(\"Caller's info set\",this.state.callId);\n\n      } catch (err) {\n        console.error(err);\n      }\n    }\n\n    closeVideoCall() {\n      var remoteViews = document.getElementsByClassName(\"remoteVideo\");\n      var selfView = document.getElementById(\"localVideo\");\n    \n      if (pc) {\n        pc.ontrack = null;\n        pc.onremovetrack = null;\n        pc.onremovestream = null;\n        pc.onicecandidate = null;\n        pc.oniceconnectionstatechange = null;\n        pc.onsignalingstatechange = null;\n        pc.onicegatheringstatechange = null;\n        pc.onnegotiationneeded = null;\n    \n        if (remoteViews[0].srcObject) {\n          remoteViews[0].srcObject.getTracks().forEach(track => track.stop());\n        }\n    \n        if (selfView.srcObject) {\n          selfView.srcObject.getTracks().forEach(track => track.stop());\n        }\n    \n        pc.close();\n\n      }\n    \n      remoteViews[0].removeAttribute(\"src\");\n      remoteViews[0].removeAttribute(\"srcObject\");\n      selfView.removeAttribute(\"src\");\n      remoteViews[0].removeAttribute(\"srcObject\");\n    \n    }\n\n    render() {\n\n        return (\n            <Box>\n              {this.props.callEnded ? this.closeVideoCall() : console.log(\"On call\")}\n\n              <Box p={2}>   \n                  <ButtonGroup color=\"secondary\" aria-label=\"outlined secondary button group\" >\n                    <Button onClick={this.props.callInfo === \"C\"? () => this.start(this.props.callId) : () => {this.joinedCall(this.props.callId)}}>\n                      Video call\n                    </Button>\n                  </ButtonGroup>\n              </Box>\n              \n                <Grid container style={{justifyContent: \"space-around\"}}>\n                  <Grid item style={{flexWrap: \"wrap\", margin: \"20px\", backgroundColor: \"rgb(0,0,0)\", height: \"250px\", width: \"250px\"}}>\n                    <video id=\"localVideo\" autoPlay style={{height: \"200px\", width: \"250px\"}}></video>\n                  </Grid>\n                  \n                  <Grid item style={{flexWrap: \"wrap\", margin: \"20px\", backgroundColor: \"rgb(0,0,0)\", height: \"250px\", width: \"250px\"}}>\n                    <video className=\"remoteVideo\" autoPlay muted style={{height: \"200px\", width: \"250px\"}}></video>\n                  </Grid> \n                </Grid>  \n            </Box>\n        )\n        \n    }\n}\n\nexport default VideoCanvas;","import React from \"react\";\nimport \"../App.css\"\nimport NavBar from \"./NavBar.js\";\nimport WhiteBoard from \"./WhiteBoard.js\";\nimport Chatbox from \"./Chatbox.js\";\nimport { Box, Grid, Button, ButtonGroup} from \"@material-ui/core\";\nimport VideoCanvas from \"./VideoCanvas\";\nimport {w3cwebsocket as W3CWebSocket} from \"websocket\"\n\nconst client = new W3CWebSocket('ws://127.0.0.1:4000');\n\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    \n    this.state = {\n      callId : \"\",\n      callInfo : \"\",\n      callEnded : 0\n    }\n\n    this.generateCode = this.generateCode.bind(this);\n    this.enteredText = this.enteredText.bind(this);\n    this.joinCall = this.joinCall.bind(this);\n    this.isCaller = this.isCaller.bind(this);\n    this.endCall = this.endCall.bind(this);\n\n  }\n\n  generateCode() {\n    const id = () => {\n      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    } \n\n    this.setState(() => {\n      return {\n        callId : id() + id() + \"-\" + id()\n      }\n    });\n      \n  }\n\n  enteredText(event) {\n    this.setState(() => {\n        return {\n          callId : event.target.value\n        }\n    })\n  }\n\n  joinCall() {\n    client.send(JSON.stringify({sentCode: this.state.callId}));\n    console.log(JSON.stringify({sentCode: this.state.callId}));\n\n  }\n\n  isCaller() {\n    this.setState(() => {\n      return {\n        callInfo : \"C\"\n      }\n    })\n  }\n\n  endCall() {\n    client.close(1000, () => {\n      console.log(\"Call has been ended.\");\n    })\n\n    this.setState(() => {\n      return {\n        callEnded : 1\n      }\n    })\n\n  }\n\n  render() {\n\n    return (\n      <div>\n        <Grid>\n          <NavBar />\n        </Grid>\n        \n          <Grid container>\n            <Box style={{margin: \"20px\"}}>\n              <ButtonGroup  color=\"secondary\" aria-label=\"outlined secondary button group\">\n                <Button onClick={this.generateCode}>Generate meeting code</Button>\n\n              </ButtonGroup>\n\n              <input placeholder=\"Enter meeting code...\"  style={{height: \"37px\", width: \"270px\"}} onChange={this.enteredText} value={this.state.callId} />\n\n              <ButtonGroup  color=\"secondary\" aria-label=\"outlined secondary button group\">\n                <Button onClick={this.joinCall}>Join</Button>\n                <Button onClick={this.isCaller}>Call</Button>\n                <Button onClick={this.endCall}>End</Button>\n              </ButtonGroup>\n            </Box>\n\n          </Grid>\n\n          <Grid container>\n            <Grid item xs={12} md={8} py={2} style={{marginBottom: \"50px\"}}>\n              <WhiteBoard callId={this.state.callId} callEnded={this.state.callEnded} />\n            </Grid>\n    \n            <Grid item xs={12} md={4} py={2} style={{marginBottom: \"50px\"}}>\n              <Chatbox callId={this.state.callId} callEnded={this.state.callEnded} />\n            </Grid>\n\n          </Grid>\n\n          <Grid container style={{justifyContent: \"center\"}}>\n            <Grid item>\n              <VideoCanvas callId={this.state.callId} callInfo={this.state.callInfo} callEnded={this.state.callEnded} />\n            </Grid>\n              \n          </Grid>\n        \n      </div>\n    )\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}